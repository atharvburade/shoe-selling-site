{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/services/user.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../../partials/title/title.component\";\nimport * as i5 from \"../../partials/text-input/text-input.component\";\nimport * as i6 from \"../../partials/default-button/default-button.component\";\nconst _c0 = function (a0) {\n  return {\n    returnUrl: a0\n  };\n};\nclass LoginPageComponent {\n  constructor(formBuilder, userService, activatedRoute, router) {\n    this.formBuilder = formBuilder;\n    this.userService = userService;\n    this.activatedRoute = activatedRoute;\n    this.router = router;\n    this.isSubmitted = false;\n    this.returnUrl = '';\n  }\n  ngOnInit() {\n    this.loginForm = this.formBuilder.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', Validators.required]\n    });\n    this.returnUrl = this.activatedRoute.snapshot.queryParams.returnUrl;\n  }\n  get fc() {\n    return this.loginForm.controls;\n  }\n  submit() {\n    this.isSubmitted = true;\n    if (this.loginForm.invalid) return;\n    this.userService.login({\n      email: this.fc.email.value,\n      password: this.fc.password.value\n    }).subscribe(() => {\n      this.router.navigateByUrl(this.returnUrl);\n    });\n  }\n}\nLoginPageComponent.ɵfac = function LoginPageComponent_Factory(t) {\n  return new (t || LoginPageComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router));\n};\nLoginPageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginPageComponent,\n  selectors: [[\"app-login-page\"]],\n  decls: 11,\n  vars: 8,\n  consts: [[1, \"container\"], [1, \"details\"], [\"title\", \"Login\"], [3, \"formGroup\", \"ngSubmit\"], [\"type\", \"email\", \"label\", \"Email\", 3, \"control\", \"showErrorsWhen\"], [\"type\", \"password\", \"label\", \"Password\", 3, \"control\", \"showErrorsWhen\"], [\"text\", \"Login\"], [1, \"register\"], [\"routerLink\", \"/register\", 3, \"queryParams\"]],\n  template: function LoginPageComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵelement(2, \"app-title\", 2);\n      i0.ɵɵelementStart(3, \"form\", 3);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginPageComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.submit();\n      });\n      i0.ɵɵelement(4, \"text-input\", 4)(5, \"text-input\", 5)(6, \"default-button\", 6);\n      i0.ɵɵelementStart(7, \"div\", 7);\n      i0.ɵɵtext(8, \" New user? \\u00A0 \");\n      i0.ɵɵelementStart(9, \"a\", 8);\n      i0.ɵɵtext(10, \" Register here \");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"control\", ctx.fc.email)(\"showErrorsWhen\", ctx.isSubmitted);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"control\", ctx.fc.password)(\"showErrorsWhen\", ctx.isSubmitted);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"queryParams\", i0.ɵɵpureFunction1(6, _c0, ctx.returnUrl));\n    }\n  },\n  dependencies: [i3.RouterLink, i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i4.TitleComponent, i5.TextInputComponent, i6.DefaultButtonComponent],\n  styles: [\".container[_ngcontent-%COMP%]{\\ndisplay: flex;\\njustify-content: center;\\nalign-items: center;\\nheight: 100%;\\nmargin-top: 3rem;\\n}\\n\\n.details[_ngcontent-%COMP%]{\\n  width: 28rem;\\n}\\n\\nform[_ngcontent-%COMP%]{\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n}\\n\\n.error-list[_ngcontent-%COMP%]{\\n  color: red;\\n}\\n\\n.register[_ngcontent-%COMP%]{\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9wYWdlcy9sb2dpbi1wYWdlL2xvZ2luLXBhZ2UuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLGFBQWE7QUFDYix1QkFBdUI7QUFDdkIsbUJBQW1CO0FBQ25CLFlBQVk7QUFDWixnQkFBZ0I7QUFDaEI7O0FBRUE7RUFDRSxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLHVCQUF1QjtBQUN6Qjs7QUFFQTtFQUNFLFVBQVU7QUFDWjs7QUFFQTtFQUNFLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIsbUJBQW1CO0FBQ3JCIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lcntcbmRpc3BsYXk6IGZsZXg7XG5qdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbmFsaWduLWl0ZW1zOiBjZW50ZXI7XG5oZWlnaHQ6IDEwMCU7XG5tYXJnaW4tdG9wOiAzcmVtO1xufVxuXG4uZGV0YWlsc3tcbiAgd2lkdGg6IDI4cmVtO1xufVxuXG5mb3Jte1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuLmVycm9yLWxpc3R7XG4gIGNvbG9yOiByZWQ7XG59XG5cbi5yZWdpc3RlcntcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});\nexport { LoginPageComponent };","map":{"version":3,"names":["Validators","LoginPageComponent","constructor","formBuilder","userService","activatedRoute","router","isSubmitted","returnUrl","ngOnInit","loginForm","group","email","required","password","snapshot","queryParams","fc","controls","submit","invalid","login","value","subscribe","navigateByUrl","i0","ɵɵdirectiveInject","i1","FormBuilder","i2","UserService","i3","ActivatedRoute","Router","selectors","decls","vars","consts","template","LoginPageComponent_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵlistener","LoginPageComponent_Template_form_ngSubmit_3_listener","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","ɵɵpureFunction1","_c0"],"sources":["D:\\projects\\shoe-selling-site\\frontend\\src\\app\\components\\pages\\login-page\\login-page.component.ts","D:\\projects\\shoe-selling-site\\frontend\\src\\app\\components\\pages\\login-page\\login-page.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { UserService } from 'src/app/services/user.service';\n\n@Component({\n  selector: 'app-login-page',\n  templateUrl: './login-page.component.html',\n  styleUrls: ['./login-page.component.css']\n})\nexport class LoginPageComponent implements OnInit {\n  loginForm!:FormGroup;\n  isSubmitted = false;\n  returnUrl = '';\n  constructor(private formBuilder: FormBuilder\n    , private userService:UserService,\n     private activatedRoute:ActivatedRoute,\n     private router:Router) { }\n\n  ngOnInit(): void {\n    this.loginForm = this.formBuilder.group({\n      email:['', [Validators.required,Validators.email]],\n      password:['', Validators.required]\n    });\n\n    this.returnUrl = this.activatedRoute.snapshot.queryParams.returnUrl;\n  }\n\n  get fc(){\n    return this.loginForm.controls;\n  }\n\n  submit(){\n    this.isSubmitted = true;\n    if(this.loginForm.invalid) return;\n\n    this.userService.login({email:this.fc.email.value,\n       password: this.fc.password.value}).subscribe(() => {\n         this.router.navigateByUrl(this.returnUrl);\n       });\n  }\n\n}\n","<div class=\"container\">\n  <div class=\"details\">\n    <app-title title=\"Login\"></app-title>\n\n    <form [formGroup]=\"loginForm\" (ngSubmit)=\"submit()\">\n\n    <text-input\n    [control]=\"fc.email\"\n    [showErrorsWhen]=\"isSubmitted\"\n    type=\"email\"\n    label=\"Email\">\n  </text-input>\n\n  <text-input\n  [control]=\"fc.password\"\n  [showErrorsWhen]=\"isSubmitted\"\n  type=\"password\"\n  label=\"Password\">\n</text-input>\n\n    <default-button text=\"Login\"></default-button>\n    <div class=\"register\">\n      New user? &nbsp;\n      <a routerLink=\"/register\" [queryParams]=\"{returnUrl : returnUrl}\">\n        Register here\n      </a>\n    </div>\n    </form>\n  </div>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}